# Тестирование

Ниже минимальный чек-лист для ручной и автоматической проверки после изменений.

## 1. Быстрая ручная проверка

1. Поднимите локальный сервер:
   ```bash
   ./run.sh
   ```
   или
   ```bash
   python3 -m http.server 4173
   ```
2. Откройте страницу в браузере.
3. Проверьте:
   - подписи нот/ступеней читаемые (не "черным по черному");
   - струны визуально в правильном порядке (басовые внизу, тонкие сверху);
   - выбор пресета строя сразу меняет строй в summary/на грифе;
   - режим `Аккорд` показывает ноты аккорда даже если готового voicing нет;
   - `Отображение -> Форма (CAGED)` реально меняет позицию/окно.

## 2. Smoke-тест (Playwright)

Скрипт проверяет, что UI открывается, переключается в режим аккорда и не падает:

```bash
node smoke-playwright.mjs http://127.0.0.1:4173
```

Ожидаемый результат:
- в консоли есть `SMOKE_OK`

## 3. Регресс-тест (Playwright)

Скрипт проверяет конкретные багфиксы:
- применение пресета строя,
- работу CAGED-фильтра,
- поведение режима аккорда без voicing,
- контраст подписи нот.

```bash
node playwright-regression-check.mjs http://127.0.0.1:4173
```

Ожидаемый результат:
- в консоли есть `REGRESSION_OK`

## 4. Генерация demo-скрина

```bash
node playwright-demo-screenshot.mjs http://127.0.0.1:4173
```

Файл будет сохранен в:
- `docs/demo-chord-page.png`

